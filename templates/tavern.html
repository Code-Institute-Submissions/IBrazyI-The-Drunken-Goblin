{% extends "base.html" %}
{% block content %}
<div class="row">
    <form action="{{ url_for('search') }}" method="POST" class="cols12">
        <div class="row valign-wrapper col s12 m4">
            <i class="fas fa-search"></i>
            <input type="text" name="query" id="query" class="validate" required>
            <label for="query">Search Characters</label>
        </div>
        <div class="col s12 m4">
            <a href="{{ url_for('tavern') }}">Clear</a>
            <button type="submit" class="">
                <i class="fas fa-search">Search</i>
            </button>
        </div>
    </form>
</div>
<div class="row valign-wrapper hide-on-med-and-down center-align">
    <div class="col s10 offset-s1">
        <div class="col m3"><h3>Portrait</h3></div>
        <div class="col m1"><h3>Name</h3></div>
        <div class="col m1"><h3>Race</h3></div>
        <div class="col m1"><h3>Class</h3></div>
        <div class="col m1"><h3>Likes</h3></div>
        <div class="col m1"><h3>Dislikes</h3></div>
        <div class="col m2"><h3>Backstory</h3></div>
        <div class="col m2"><h3>Save/Unsave</h3></div>
    </div>
</div>

{% for character in characters %}
    {% if character|length > 0 %}
        <div class="row center-align">
            <div class="col s10 offset-s1 tavern_characters grey lighten-4">
                <div class="row">
                    <div class="col s8 m3 offset-s2 center">This will be an image</div>
                    <div class="col s8 m1 offset-s2"><span class="hide-on-med-and-up">Name: </span>{{ character.character_name }}</div>
                    <div class="col s8 m1 offset-s2"><span class="hide-on-med-and-up">Race: </span>{{ character.character_race }}</div>
                    <div class="col s8 m1 offset-s2"><span class="hide-on-med-and-up">Class: </span>{{ character.character_class }}</div>
                    <div class="col s8 m1 offset-s2"><span class="hide-on-med-and-up">Likes: </span>{{ character.character_likes }}</div>
                    <div class="col s8 m1 offset-s2"><span class="hide-on-med-and-up">Dislikes: </span>{{ character.character_dislikes }}</div>
                    <div class="col s8 m2 offset-s2"><span class="hide-on-med-and-up">Bio: </span>{{ character.character_bio }}</div>
                    <div class="col s6 m1 center"><a class="fas fa-heart-broken" href="{{ url_for('removesavecharacter', character_id=character._id) }}">Unsave Character</a></div>
                    <div class="col s6 m1 center"><a class="fas fa-heart" href="{{ url_for('savecharacter', character_id=character._id) }}">Save Character</a></div>
                </div>
                <div class="row center-align">
                    {% if character.character_user == session.user %}
                        <div class="col s10 offset-s1 character_divider"></div>
                        <div class="col s6"><a class="waves-effect waves-light btn-small" href="{{ url_for('edit', character_id=character._id) }}">Edit Hero</a></div>
                        <div class="col s6"><a class="waves-effect waves-light btn-small" href="{{ url_for('delete', character_id=character._id) }}">Delete Hero</a></div>
                    {% endif %}
                </div>
            </div>
    {% else %}
            <h3>There appears to be no one in the tavern going by that name.</h3>
    {% endif %}
        </div>
{% endfor %}


{% endblock %}